<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Portfolio – UNO BIO</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body class="page-portfolio">
  <div data-include="/partials/header.html"></div>

  <main>
    <!-- Top: internal dropdown menu -->
    <div class="portfolio-topbar">
      <div class="portfolio-dropdown">
        <button class="portfolio-dropdown-toggle" type="button">
          Overview ▾
        </button>
        <ul class="portfolio-dropdown-menu">
          <li data-target="#portfolio-overview" class="active">Overview</li>
          <li data-target="#portfolio-protocols">Protocols</li>
          <li data-target="#portfolio-images">Images</li>
          <li data-target="#portfolio-animations">Animations</li>
        </ul>
      </div>
    </div>

    <!-- OVERVIEW (no image box) -->
    <section id="portfolio-overview" class="portfolio-section active">
      <h1>Overview</h1>
      <p>
        In Progress!
      </p>

      <div class="portfolio-headings-grid">
        <div>
          <h2>Protocols</h2>
          <p>In Progress!</p>
        </div>
        <div>
          <h2>Images</h2>
          <p>In Progress</p>
        </div>
        <div>
          <h2>Animations</h2>
          <p>Short description of animations or dynamic visualizations you make.</p>
        </div>
      </div>
    </section>

    <!-- PROTOCOLS (with carousel box) -->
    <section id="portfolio-protocols" class="portfolio-section">
      <h1>Protocols</h1>
      <p>
        Describe your protocols here. You can list key experiments, steps, or link
        out to protocol documents.
      </p>

      <div class="portfolio-carousel" data-carousel="protocols">
        <button class="carousel-arrow prev" type="button" aria-label="Previous image">
          ‹
        </button>
       <div class="carousel-window">
  <img src="/media/competentcells.webp" alt="Preparation of competent cells">
  <img src="/media/expression.webp" alt="Protein expression workflow">
  <img src="/media/rnaproduction.webp" alt="RNA production workflow">
  <img src="/media/visaintern.webp" alt="Workflow overview figure">
       </div>

        <button class="carousel-arrow next" type="button" aria-label="Next image">
          ›
        </button>
      </div>
    </section>

    <!-- IMAGES (with carousel box) -->
    <section id="portfolio-images" class="portfolio-section">
      <h1>Images</h1>
      <p>
        Describe what kind of images.
      </p>

      <div class="portfolio-carousel" data-carousel="images">
        <button class="carousel-arrow prev" type="button" aria-label="Previous image">
          ‹
        </button>
        <div class="carousel-window">
          <!-- Replace these with your own images -->
          <img src="/media/images1.webp" alt="Portfolio image 1">
          <img src="/media/images2.webp" alt="Portfolio image 2">
        </div>
        <button class="carousel-arrow next" type="button" aria-label="Next image">
          ›
        </button>
      </div>
    </section>

    <!-- ANIMATIONS (with carousel box) -->
    <section id="portfolio-animations" class="portfolio-section">
      <h1>Animations</h1>
      <p>
        Describe your animations or dynamic visualizations here.
      </p>

      <div class="portfolio-carousel" data-carousel="animations">
        <button class="carousel-arrow prev" type="button" aria-label="Previous image">
          ‹
        </button>
        <div class="carousel-window">
          <!-- Replace these with your own images or GIFs -->
          <img src="/media/anim1.webp" alt="Animation 1">
          <img src="/media/anim2.webp" alt="Animation 2">
        </div>
        <button class="carousel-arrow next" type="button" aria-label="Next image">
          ›
        </button>
      </div>
    </section>
  </main>

  <div data-include="/partials/footer.html"></div>
  <script src="/scripts/includes.js"></script>

  <!-- Page-specific JS -->
  <script>
    // === Portfolio dropdown ===
    (function () {
      const dropdown = document.querySelector(".portfolio-dropdown");
      if (!dropdown) return;

      const toggle = dropdown.querySelector(".portfolio-dropdown-toggle");
      const menu = dropdown.querySelector(".portfolio-dropdown-menu");
      const items = menu.querySelectorAll("li");

      // Start closed
      menu.style.display = "none";

      toggle.addEventListener("click", () => {
        const isOpen = menu.style.display === "block";
        menu.style.display = isOpen ? "none" : "block";
      });

      // Clicking an item: scroll + update label + active state
      items.forEach((li) => {
        li.addEventListener("click", () => {
          const targetSelector = li.getAttribute("data-target");
          const section = document.querySelector(targetSelector);

          if (section) {
            section.scrollIntoView({ behavior: "smooth", block: "start" });
          }

          items.forEach((x) => x.classList.remove("active"));
          li.classList.add("active");
          toggle.textContent = li.textContent + " ▾";

          menu.style.display = "none";
        });
      });

      // Close when clicking outside
      document.addEventListener("click", (e) => {
        if (!dropdown.contains(e.target)) {
          menu.style.display = "none";
        }
      });
    })();

    // === Simple image carousels for Protocols / Images / Animations ===
    (function () {
      const carousels = document.querySelectorAll(".portfolio-carousel");
      if (!carousels.length) return;

      carousels.forEach((carousel) => {
        const imgs = carousel.querySelectorAll(".carousel-window img");
        if (!imgs.length) return;

        let index = 0;
        // Show first image
        imgs.forEach((img, i) => {
          img.classList.toggle("active", i === 0);
        });

        const show = (i) => {
          imgs.forEach((img, idx) => {
            img.classList.toggle("active", idx === i);
          });
        };

        const prevBtn = carousel.querySelector(".carousel-arrow.prev");
        const nextBtn = carousel.querySelector(".carousel-arrow.next");

        prevBtn.addEventListener("click", () => {
          index = (index - 1 + imgs.length) % imgs.length;
          show(index);
        });

        nextBtn.addEventListener("click", () => {
          index = (index + 1) % imgs.length;
          show(index);
        });
      });
    })();
  </script>
</body>
</html>
